{"remainingRequest":"/Users/admin/Desktop/template-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/template-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/admin/Desktop/template-vue/src/views/ecommerce/CreditCard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/admin/Desktop/template-vue/src/views/ecommerce/CreditCard.vue","mtime":1537373832000},{"path":"/Users/admin/Desktop/template-vue/node_modules/cache-loader/dist/cjs.js","mtime":1544032770804},{"path":"/Users/admin/Desktop/template-vue/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/Users/admin/Desktop/template-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/admin/Desktop/template-vue/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from \"vuex\";\nexport default {\n  data: function data() {\n    return {\n      loader: false,\n      valid: true,\n      newCardDetails: {\n        cvv: \"\",\n        month: \"\",\n        year: \"\",\n        last4Digit: \"\",\n        cardHolderName: \"\"\n      },\n      maskCardNumber: \"credit-card\",\n      maskYear: \"####\",\n      maskCvv: \"###\",\n      addNewCardDialog: false,\n      selectDeletedCard: null,\n      headers: [{\n        text: \"Number\",\n        sortable: false\n      }, {\n        text: \"Full Name\",\n        sortable: false\n      }, {\n        text: \"Remove Card\",\n        sortable: false\n      }]\n    };\n  },\n  computed: _objectSpread({}, mapGetters([\"creditCard\"])),\n  methods: {\n    // open dialog to delete card\n    deleteCard: function deleteCard(card) {\n      this.$refs.deleteConfirmationDialog.openDialog();\n      this.selectDeletedCard = card;\n    },\n    // delete card\n    onDeleteCard: function onDeleteCard() {\n      var _this = this;\n\n      this.$refs.deleteConfirmationDialog.close();\n      this.loader = true;\n      setTimeout(function () {\n        _this.loader = false;\n\n        _this.$store.dispatch(\"onDeleteCard\", _this.selectDeletedCard);\n      }, 1500);\n    },\n    // to display month in select list\n    getMonths: function getMonths() {\n      var months = [];\n\n      for (var i = 1; i <= 12; i++) {\n        if (i < 10) {\n          i = \"0\" + i;\n        }\n\n        months.push(i);\n      }\n\n      return months;\n    },\n    // to display 10 years from current year\n    getYear: function getYear() {\n      var years = [];\n      var currentYear = new Date().getFullYear();\n\n      for (var i = 0; i <= 9; i++) {\n        var nextYear = currentYear + i;\n        years.push(nextYear);\n      }\n\n      return years;\n    },\n    // to check fields are empty or not\n    ifEmptyFields: function ifEmptyFields() {\n      var _this$newCardDetails = this.newCardDetails,\n          last4Digit = _this$newCardDetails.last4Digit,\n          cardHolderName = _this$newCardDetails.cardHolderName,\n          month = _this$newCardDetails.month,\n          year = _this$newCardDetails.year,\n          cvv = _this$newCardDetails.cvv;\n\n      if (last4Digit !== \"\" && last4Digit.length == 16 && cardHolderName !== \"\" && month !== \"\" && year !== \"\" && cvv !== \"\") {\n        return false;\n      }\n\n      return true;\n    },\n    // to add new card\n    addNewCard: function addNewCard() {\n      this.addNewCardDialog = false;\n      this.$store.dispatch(\"addNewCard\", this.newCardDetails);\n      this.newCardDetails = {\n        cvv: \"\",\n        month: \"\",\n        year: \"\",\n        last4Digit: \"\",\n        cardHolderName: \"\"\n      };\n    }\n  }\n};",{"version":3,"sources":["CreditCard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,cAAA,KADA;AAEA,aAAA,IAFA;AAGA,sBAAA;AACA,aAAA,EADA;AAEA,eAAA,EAFA;AAGA,cAAA,EAHA;AAIA,oBAAA,EAJA;AAKA,wBAAA;AALA,OAHA;AAUA,sBAAA,aAVA;AAWA,gBAAA,MAXA;AAYA,eAAA,KAZA;AAaA,wBAAA,KAbA;AAcA,yBAAA,IAdA;AAeA,eAAA,CACA;AAAA,cAAA,QAAA;AAAA,kBAAA;AAAA,OADA,EAEA;AAAA,cAAA,WAAA;AAAA,kBAAA;AAAA,OAFA,EAGA;AAAA,cAAA,aAAA;AAAA,kBAAA;AAAA,OAHA;AAfA,KAAA;AAqBA,GAvBA;AAwBA,8BACA,WAAA,CAAA,YAAA,CAAA,CADA,CAxBA;AA2BA,WAAA;AACA;AACA,cAFA,sBAEA,IAFA,EAEA;AACA,WAAA,KAAA,CAAA,wBAAA,CAAA,UAAA;AACA,WAAA,iBAAA,GAAA,IAAA;AACA,KALA;AAMA;AACA,gBAPA,0BAOA;AAAA;;AACA,WAAA,KAAA,CAAA,wBAAA,CAAA,KAAA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,iBAAA,YAAA;AACA,cAAA,MAAA,GAAA,KAAA;;AACA,cAAA,MAAA,CAAA,QAAA,CAAA,cAAA,EAAA,MAAA,iBAAA;AACA,OAHA,EAGA,IAHA;AAIA,KAdA;AAeA;AACA,aAhBA,uBAgBA;AACA,UAAA,SAAA,EAAA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,KAAA,EAAA,EAAA,GAAA,EAAA;AACA,YAAA,IAAA,EAAA,EAAA;AACA,cAAA,MAAA,CAAA;AACA;;AACA,eAAA,IAAA,CAAA,CAAA;AACA;;AACA,aAAA,MAAA;AACA,KAzBA;AA0BA;AACA,WA3BA,qBA2BA;AACA,UAAA,QAAA,EAAA;AACA,UAAA,cAAA,IAAA,IAAA,GAAA,WAAA,EAAA;;AACA,WAAA,IAAA,IAAA,CAAA,EAAA,KAAA,CAAA,EAAA,GAAA,EAAA;AACA,YAAA,WAAA,cAAA,CAAA;AACA,cAAA,IAAA,CAAA,QAAA;AACA;;AACA,aAAA,KAAA;AACA,KAnCA;AAqCA;AACA,iBAtCA,2BAsCA;AAAA,iCAOA,KAAA,cAPA;AAAA,UAEA,UAFA,wBAEA,UAFA;AAAA,UAGA,cAHA,wBAGA,cAHA;AAAA,UAIA,KAJA,wBAIA,KAJA;AAAA,UAKA,IALA,wBAKA,IALA;AAAA,UAMA,GANA,wBAMA,GANA;;AAQA,UACA,eAAA,EAAA,IACA,WAAA,MAAA,IAAA,EADA,IAEA,mBAAA,EAFA,IAGA,UAAA,EAHA,IAIA,SAAA,EAJA,IAKA,QAAA,EANA,EAOA;AACA,eAAA,KAAA;AACA;;AACA,aAAA,IAAA;AACA,KAzDA;AA0DA;AACA,cA3DA,wBA2DA;AACA,WAAA,gBAAA,GAAA,KAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA,KAAA,cAAA;AACA,WAAA,cAAA,GAAA;AACA,aAAA,EADA;AAEA,eAAA,EAFA;AAGA,cAAA,EAHA;AAIA,oBAAA,EAJA;AAKA,wBAAA;AALA,OAAA;AAOA;AArEA;AA3BA,CAAA","sourcesContent":["<template>\n  <div>\n    <page-title-bar></page-title-bar>\n    <v-container fluid pt-0>\n      <v-card>\n        <v-card-actions>\n          <v-btn color=\"primary\" @click=\"addNewCardDialog = true\">\n            {{$t('message.addNewCard')}}\n          </v-btn>\n        </v-card-actions>        \n        <app-section-loader :status=\"loader\"></app-section-loader>        \n        <v-card-text>\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"creditCard\"\n            hide-actions\n            class=\"elevation-1\"\n          >\n            <template slot=\"items\" slot-scope=\"props\">\n              <td>{{ props.item.last4Digit }} </td>\n              <td>{{ props.item.cardHolderName }}</td>\n              <td>\n                <v-btn icon class=\"mx-0\" @click=\"deleteCard(props.item)\" >\n                  <v-icon color=\"grey lighten-1\" >close</v-icon>\n                </v-btn>\n              </td>\n            </template>\n          </v-data-table>\n          <delete-confirmation-dialog \n            ref=\"deleteConfirmationDialog\" \n            heading=\"Are You Sure You Want To Delete?\"\n            message=\"Are you sure you want to delete this card permanently?\"\n            @onConfirm=\"onDeleteCard\"\n          >\n          </delete-confirmation-dialog>\n        </v-card-text>\n      </v-card>\n      <v-dialog v-model=\"addNewCardDialog\" max-width=\"500\">\n        <v-card>\n          <v-card-title>\n            <span class=\"headline\">{{$t('message.addNewCard')}}</span>\n          </v-card-title>\n          <v-card-text>\n            <span class=\"d-flex\">\n              <v-text-field name=\"cardNumber\" :mask=\"maskCardNumber\" required placeholder=\"#### - #### - #### - ####\" v-model=\"newCardDetails.last4Digit\" label=\"Card Number\"></v-text-field>\n            </span>\n            <span class=\"d-flex\">\n              <v-text-field name=\"cardHolderName\" v-model=\"newCardDetails.cardHolderName\" required label=\"Name\"></v-text-field>\n            </span>      \n            <div class=\"d-flex\">\n              <v-flex xs12 sm12 md4 mr-4>\n                <v-autocomplete\n                  name=\"months\"\n                  :items=\"getMonths()\"\n                  label=\"Expiry Month\"\n                  required\n                  v-model=\"newCardDetails.month\"\n                ></v-autocomplete>\n              </v-flex>                    \n              <v-flex xs12 sm12 md4 lg4 mr-4>\n                <v-autocomplete\n                  name=\"year\"\n                  :items=\"getYear()\"\n                  label=\"Expiry Year\"\n                  required\n                  v-model=\"newCardDetails.year\"\n                  autocomplete\n                ></v-autocomplete>                     \n              </v-flex>\n              <v-flex xs12 sm12 md4 ;g4>\n                <v-text-field name=\"cvv\" v-model=\"newCardDetails.cvv\" :mask=\"maskCvv\" required label=\"CVV\"></v-text-field>\n              </v-flex>\n            </div>\n          </v-card-text>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"primary\" @click=\"addNewCardDialog = false\">Cancel</v-btn>\n            <v-btn color=\"error\" :disabled=\"ifEmptyFields()\" @click=\"addNewCard\">Submit</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </v-container>\n  </div>  \n</template>\n<script>\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      loader: false,\n      valid: true,\n      newCardDetails: {\n        cvv: \"\",\n        month: \"\",\n        year: \"\",\n        last4Digit: \"\",\n        cardHolderName: \"\"\n      },\n      maskCardNumber: \"credit-card\",\n      maskYear: \"####\",\n      maskCvv: \"###\",\n      addNewCardDialog: false,\n      selectDeletedCard: null,\n      headers: [\n        { text: \"Number\", sortable: false },\n        { text: \"Full Name\", sortable: false },\n        { text: \"Remove Card\", sortable: false }\n      ]\n    };\n  },\n  computed: {\n    ...mapGetters([\"creditCard\"])\n  },\n  methods: {\n    // open dialog to delete card\n    deleteCard(card) {\n      this.$refs.deleteConfirmationDialog.openDialog();\n      this.selectDeletedCard = card;\n    },\n    // delete card\n    onDeleteCard() {\n      this.$refs.deleteConfirmationDialog.close();\n      this.loader = true;\n      setTimeout(() => {\n        this.loader = false;\n        this.$store.dispatch(\"onDeleteCard\", this.selectDeletedCard);\n      }, 1500);\n    },\n    // to display month in select list\n    getMonths() {\n      let months = [];\n      for (let i = 1; i <= 12; i++) {\n        if (i < 10) {\n          i = \"0\" + i;\n        }\n        months.push(i);\n      }\n      return months;\n    },\n    // to display 10 years from current year\n    getYear() {\n      let years = [];\n      let currentYear = new Date().getFullYear();\n      for (let i = 0; i <= 9; i++) {\n        let nextYear = currentYear + i;\n        years.push(nextYear);\n      }\n      return years;\n    },\n\n    // to check fields are empty or not\n    ifEmptyFields() {\n      const {\n        last4Digit,\n        cardHolderName,\n        month,\n        year,\n        cvv\n      } = this.newCardDetails;\n      if (\n        last4Digit !== \"\" &&\n        last4Digit.length == 16 &&\n        cardHolderName !== \"\" &&\n        month !== \"\" &&\n        year !== \"\" &&\n        cvv !== \"\"\n      ) {\n        return false;\n      }\n      return true;\n    },\n    // to add new card\n    addNewCard() {\n      this.addNewCardDialog = false;\n      this.$store.dispatch(\"addNewCard\", this.newCardDetails);\n      this.newCardDetails = {\n        cvv: \"\",\n        month: \"\",\n        year: \"\",\n        last4Digit: \"\",\n        cardHolderName: \"\"\n      };\n    }\n  }\n};\n</script>"],"sourceRoot":"src/views/ecommerce"}]}