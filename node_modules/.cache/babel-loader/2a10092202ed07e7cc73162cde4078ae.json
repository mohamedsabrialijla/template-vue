{"remainingRequest":"/Users/admin/Desktop/template-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/template-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/admin/Desktop/template-vue/src/views/chat/components/ChatArea.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/admin/Desktop/template-vue/src/views/chat/components/ChatArea.vue","mtime":1535529988000},{"path":"/Users/admin/Desktop/template-vue/node_modules/cache-loader/dist/cjs.js","mtime":1544032770804},{"path":"/Users/admin/Desktop/template-vue/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/Users/admin/Desktop/template-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _objectSpread from \"/Users/admin/Desktop/template-vue/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from \"vuex\";\nimport SingleChatLoader from \"./SingleChatLoader\";\nimport { getCurrentAppLayout } from \"Helpers/helpers\";\nexport default {\n  computed: _objectSpread({}, mapGetters([\"selectedUser\", \"loadingChat\"])),\n  data: function data() {\n    return {\n      settings: {\n        maxScrollbarLength: 260\n      },\n      newMessage: \"\"\n    };\n  },\n  components: {\n    SingleChatLoader: SingleChatLoader\n  },\n  mounted: function mounted() {\n    this.scrollToEnd();\n  },\n  updated: function updated() {\n    if (this.newMessage == '') {\n      this.scrollToEnd();\n    }\n  },\n  methods: {\n    sendMessage: function sendMessage() {\n      if (this.newMessage !== \"\") {\n        this.$store.dispatch(\"sendMessage\", this.newMessage);\n        this.newMessage = \"\";\n        this.scrollToEnd();\n      }\n    },\n    toggleChatSidebar: function toggleChatSidebar() {\n      this.$store.dispatch(\"toggleChatSidebar\", true);\n    },\n    getScrollHeight: function getScrollHeight() {\n      var layout = getCurrentAppLayout(this.$router);\n\n      switch (layout) {\n        case \"default\":\n          return \"height: calc(100vh - 200px)\";\n\n        case \"horizontal\":\n          return \"height: calc(100vh - 250px)\";\n\n        case \"boxed\":\n          return \"height: calc(100vh - 380px)\";\n\n        case \"boxed-v2\":\n          return \"height: calc(100vh - 380px)\";\n\n        default:\n          return \"height: calc(100vh - 200px)\";\n      }\n    },\n    scrollToEnd: function scrollToEnd() {\n      var container = document.querySelector(\".chat-area-scroll\");\n\n      if (container !== null) {\n        var scrollHeight = container.scrollHeight;\n        container.scrollTop = scrollHeight;\n      }\n    }\n  }\n};",{"version":3,"sources":["ChatArea.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,gBAAA,MAAA,oBAAA;AACA,SAAA,mBAAA,QAAA,iBAAA;AAEA,eAAA;AACA,8BACA,WAAA,CAAA,cAAA,EAAA,aAAA,CAAA,CADA,CADA;AAIA,MAJA,kBAIA;AACA,WAAA;AACA,gBAAA;AACA,4BAAA;AADA,OADA;AAIA,kBAAA;AAJA,KAAA;AAMA,GAXA;AAYA,cAAA;AACA;AADA,GAZA;AAeA,SAfA,qBAeA;AACA,SAAA,WAAA;AACA,GAjBA;AAkBA,SAlBA,qBAkBA;AACA,QAAA,KAAA,UAAA,IAAA,EAAA,EAAA;AACA,WAAA,WAAA;AACA;AACA,GAtBA;AAuBA,WAAA;AACA,eADA,yBACA;AACA,UAAA,KAAA,UAAA,KAAA,EAAA,EAAA;AACA,aAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EAAA,KAAA,UAAA;AACA,aAAA,UAAA,GAAA,EAAA;AACA,aAAA,WAAA;AACA;AACA,KAPA;AAQA,qBARA,+BAQA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,mBAAA,EAAA,IAAA;AACA,KAVA;AAWA,mBAXA,6BAWA;AACA,UAAA,SAAA,oBAAA,KAAA,OAAA,CAAA;;AACA,cAAA,MAAA;AACA,aAAA,SAAA;AACA,iBAAA,6BAAA;;AACA,aAAA,YAAA;AACA,iBAAA,6BAAA;;AACA,aAAA,OAAA;AACA,iBAAA,6BAAA;;AACA,aAAA,UAAA;AACA,iBAAA,6BAAA;;AACA;AACA,iBAAA,6BAAA;AAVA;AAYA,KAzBA;AA0BA,eA1BA,yBA0BA;AACA,UAAA,YAAA,SAAA,aAAA,CAAA,mBAAA,CAAA;;AACA,UAAA,cAAA,IAAA,EAAA;AACA,YAAA,eAAA,UAAA,YAAA;AACA,kBAAA,SAAA,GAAA,YAAA;AACA;AACA;AAhCA;AAvBA,CAAA","sourcesContent":["<template>\n\t<div class=\"chat-wrapper\">\n\t\t<div class=\"app-flex justify-center align-center h-vh-100\" v-if=\"loadingChat\">\n\t\t\t<single-chat-loader></single-chat-loader>\n\t\t</div>\n\t\t<template v-else>\n\t\t\t<template v-if=\"selectedUser\">\n\t\t\t\t<v-toolbar class=\"chat-head\">\n\t\t\t\t\t<div class=\"chat-head-left d-custom-flex align-items-center\">\n\t\t\t\t\t\t<v-btn class=\"mr-2 ham-menu-icon d-none gray--text\" @click=\"toggleChatSidebar\" flat icon small>\n\t\t\t\t\t\t\t<v-icon dark>menu</v-icon>\n\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t<div class=\"media align-items-center\">\n\t\t\t\t\t\t\t<div class=\"media-left mr-3 pos-relative\">\n\t\t\t\t\t\t\t\t<img :src=\"selectedUser.avatar\" alt=\"user-profile\" class=\"rounded-circle pos-relative\" width=\"40\" height=\"40\">\n\t\t\t\t\t\t\t\t<span :class=\"{'v-badge success rounded floating': selectedUser.status ===1}\"></span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"media-body\">\n\t\t\t\t\t\t\t\t<h6 class=\"mb-0\">{{selectedUser.name}}</h6>\n\t\t\t\t\t\t\t\t<span class=\"grey--text fs-12 d-inline-block\" v-if=\"selectedUser.status ===1\">online</span>\n\t\t\t\t\t\t\t\t<span class=\"grey--text fs-12 d-inline-block\" v-else>Last seen {{selectedUser.lastSeen}}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"chat-head-right\">\n\t\t\t\t\t\t<v-btn icon color=\"primary\" class=\"video-icon\">\n\t\t\t\t\t\t\t<v-icon>videocam</v-icon>\n\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t<v-btn icon color=\"primary\">\n\t\t\t\t\t\t\t<v-icon>phone</v-icon>\n\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t<v-menu \n\t\t\t\t\t\t\toffset-y \n\t\t\t\t\t\t\torigin=\"left left\" \n\t\t\t\t\t\t\ttransition=\"scale-transition\" \n\t\t\t\t\t\t\tleft\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<v-btn slot=\"activator\" icon>\n\t\t\t\t\t\t\t\t<v-icon>more_vert</v-icon>\n\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t<v-list>\n\t\t\t\t\t\t\t\t<v-list-tile @click=\"console.log('clear chat')\">\n\t\t\t\t\t\t\t\t\t<v-list-tile-title>Clear Chat</v-list-tile-title>\n\t\t\t\t\t\t\t\t</v-list-tile>\n\t\t\t\t\t\t\t\t<v-list-tile @click=\"console.log('mute notifications')\">\n\t\t\t\t\t\t\t\t\t<v-list-tile-title>Mute Notifications</v-list-tile-title>\n\t\t\t\t\t\t\t\t</v-list-tile>\n\t\t\t\t\t\t\t\t<v-list-tile @click=\"console.log('block')\">\n\t\t\t\t\t\t\t\t\t<v-list-tile-title>Block</v-list-tile-title>\n\t\t\t\t\t\t\t\t</v-list-tile>\n\t\t\t\t\t\t\t</v-list>\n\t\t\t\t\t\t</v-menu>\n\t\t\t\t\t</div>\n\t\t\t\t</v-toolbar>\n\t\t\t\t<vue-perfect-scrollbar :style=\"getScrollHeight()\" class=\"chat-area-scroll\" :settings=\"settings\">\n\t\t\t\t\t<div class=\"chat-body\">\n\t\t\t\t\t\t<template v-for=\"(chat, index) in selectedUser.chats\">\n\t\t\t\t\t\t\t<div class=\"chat-block mb-3\" :key=\"index\" :class=\"{'flex-row-reverse': chat.isAdmin}\">\n\t\t\t\t\t\t\t\t<template v-if=\"!chat.isAdmin\">\n\t\t\t\t\t\t\t\t\t<div class=\"avatar-wrap mr-3\">\n\t\t\t\t\t\t\t\t\t\t<img :src=\"selectedUser.avatar\" alt=\"user-profile\" class=\"rounded-circle\" width=\"40\" height=\"40\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"chat-bubble-wrap\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"chat-bubble even aqua-bg px-3 d-custom-flex align-items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"d-inline-block fs-14\">{{chat.body}}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<span class=\"fs-12 grey--text text-xs-left d-block mt-1 fw-light\">{{chat.time}}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t\t<div class=\"avatar-wrap ml-3\">\n\t\t\t\t\t\t\t\t\t\t<img src=\"/static/avatars/user-5.jpg\" alt=\"user-profile\" class=\"rounded-circle\" width=\"40\" height=\"40\" />\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"chat-bubble-wrap\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"chat-bubble odd primary px-3 d-custom-flex align-items-center\">\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"d-inline-block fs-14 white--text\">{{chat.body}}</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<span class=\"fs-12 grey--text text-xs-right d-block mt-1 fw-light\">{{chat.time}}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</div>\n\t\t\t\t</vue-perfect-scrollbar>\n\t\t\t\t<div class=\"chat-footer px-3\">\n\t\t\t\t\t<div class=\"d-custom-flex\">\n\t\t\t\t\t\t<v-text-field \n\t\t\t\t\t\t\thide-details \n\t\t\t\t\t\t\tname=\"input-1-3\" \n\t\t\t\t\t\t\tlabel=\"Send Message...\" \n\t\t\t\t\t\t\tsingle-line \n\t\t\t\t\t\t\t:value=\"newMessage\" \n\t\t\t\t\t\t\tv-model=\"newMessage\" \n\t\t\t\t\t\t\t@keyup.enter=\"sendMessage\"\n\t\t\t\t\t\t></v-text-field>\n\t\t\t\t\t\t<v-btn fab small>\n\t\t\t\t\t\t\t<v-icon dark>attachment</v-icon>\n\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t<v-btn fab dark small color=\"primary\" @click=\"sendMessage\">\n\t\t\t\t\t\t\t<v-icon dark>send</v-icon>\n\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<div class=\"chat-box-main\" v-else>\n\t\t\t\t<div class=\"centered\">\n\t\t\t\t\t<p><i class=\"zmdi zmdi-comments font-3x primary--text\"></i></p>\n\t\t\t\t\t<v-btn class=\"select-user d-none\" flat color=\"primary\" @click=\"toggleChatSidebar\">\n\t\t\t\t\t\tSelect User\n\t\t\t\t\t</v-btn>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</div>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport SingleChatLoader from \"./SingleChatLoader\";\nimport { getCurrentAppLayout } from \"Helpers/helpers\";\n\nexport default {\n\tcomputed: {\n\t\t...mapGetters([\"selectedUser\", \"loadingChat\"])\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsettings: {\n\t\t\tmaxScrollbarLength: 260\n\t\t\t},\n\t\t\tnewMessage: \"\"\n\t\t};\n\t},\n\tcomponents: {\n\t\tSingleChatLoader\n\t},\n\tmounted(){\n\t\tthis.scrollToEnd();\n\t},\n\tupdated(){\n\t\tif(this.newMessage == ''){\n\t\t\tthis.scrollToEnd();\n\t\t}\n\t},\n\tmethods: {\n\t\tsendMessage() {\n\t\t\tif (this.newMessage !== \"\") {\n\t\t\t\tthis.$store.dispatch(\"sendMessage\", this.newMessage);\n\t\t\t\tthis.newMessage = \"\";\n\t\t\t\tthis.scrollToEnd();\n\t\t\t}\n\t\t},\n\t\ttoggleChatSidebar() {\n\t\t\tthis.$store.dispatch(\"toggleChatSidebar\", true);\n\t\t},\n\t\tgetScrollHeight() {\n\t\t\tlet layout = getCurrentAppLayout(this.$router);\n\t\t\tswitch (layout) {\n\t\t\tcase \"default\":\n\t\t\t\treturn \"height: calc(100vh - 200px)\";\n\t\t\tcase \"horizontal\":\n\t\t\t\treturn \"height: calc(100vh - 250px)\";\n\t\t\tcase \"boxed\":\n\t\t\t\treturn \"height: calc(100vh - 380px)\";\n\t\t\tcase \"boxed-v2\":\n\t\t\t\treturn \"height: calc(100vh - 380px)\";\n\t\t\tdefault:\n\t\t\t\treturn \"height: calc(100vh - 200px)\";\n\t\t\t}\n\t\t},\n\t\tscrollToEnd() {\n\t\t\tvar container = document.querySelector(\".chat-area-scroll\");\n\t\t\tif(container !== null){\n\t\t\t\tvar scrollHeight = container.scrollHeight;\n\t\t\t\tcontainer.scrollTop = scrollHeight;\n\t\t\t}\t\n\t\t}\n\t}\n};\n</script>\n"],"sourceRoot":"src/views/chat/components"}]}