{"remainingRequest":"/Users/admin/Desktop/template-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/template-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/admin/Desktop/template-vue/src/components/Widgets/NewEmails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/admin/Desktop/template-vue/src/components/Widgets/NewEmails.vue","mtime":1535529988000},{"path":"/Users/admin/Desktop/template-vue/node_modules/cache-loader/dist/cjs.js","mtime":1544032770804},{"path":"/Users/admin/Desktop/template-vue/node_modules/babel-loader/lib/index.js","mtime":1529635966000},{"path":"/Users/admin/Desktop/template-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport api from \"Api\";\nexport default {\n  data: function data() {\n    return {\n      loader: false,\n      viewEmailDialog: false,\n      selectDeletedEmail: null,\n      selectEmail: null,\n      settings: {\n        maxScrollbarLength: 100\n      },\n      emails: null,\n      replyTextBox: false,\n      messageReply: \"\",\n      snackbar: false,\n      snackbarMessage: \"\",\n      timeout: 2000,\n      y: \"top\"\n    };\n  },\n  // call get email method\n  mounted: function mounted() {\n    this.getEmails();\n  },\n  methods: {\n    // get data from API\n    getEmails: function getEmails() {\n      var _this = this;\n\n      this.loader = true;\n      api.get(\"newEmails.js\").then(function (response) {\n        _this.loader = false;\n        _this.emails = response.data;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    // view email\n    onViewEmail: function onViewEmail(getEmail) {\n      this.viewEmailDialog = true;\n      this.selectEmail = getEmail;\n    },\n    // confirmation dialog to delete\n    onDeleteEmail: function onDeleteEmail(email) {\n      this.$refs.deleteConfirmationDialog.openDialog();\n      this.selectDeletedEmail = email;\n    },\n    // delete email if cofirmation is true\n    deleteEmail: function deleteEmail() {\n      var _this2 = this;\n\n      this.$refs.deleteConfirmationDialog.close();\n      this.loader = true;\n      var newEmail = this.emails;\n      var index = newEmail.indexOf(this.selectDeletedEmail);\n      setTimeout(function () {\n        _this2.loader = false;\n        _this2.selectDeletedEmail = null;\n\n        _this2.emails.splice(index, 1);\n\n        _this2.snackbar = true;\n        _this2.snackbarMessage = \"Email Deleted Successfully!\";\n      }, 1500);\n    },\n    // show reply text box\n    showReplyTextBox: function showReplyTextBox(email) {\n      var indexOfEmail = this.emails.indexOf(email);\n      this.replyTextBox = true;\n      this.emails[indexOfEmail].replyTextBox = this.replyTextBox;\n    },\n    // reply email\n    replyEmail: function replyEmail(email) {\n      var _this3 = this;\n\n      var indexOfEmail = this.emails.indexOf(email);\n      this.loader = true;\n      this.replyTextBox = false;\n      this.emails[indexOfEmail].replyTextBox = this.replyTextBox;\n      setTimeout(function () {\n        _this3.messageReply = \"\";\n        _this3.loader = false;\n        _this3.snackbar = true;\n        _this3.snackbarMessage = \"Reply Sent Successfully!\";\n      }, 1500);\n    }\n  }\n};",{"version":3,"sources":["NewEmails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA,OAAA,GAAA,MAAA,KAAA;AAEA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,cAAA,KADA;AAEA,uBAAA,KAFA;AAGA,0BAAA,IAHA;AAIA,mBAAA,IAJA;AAKA,gBAAA;AACA,4BAAA;AADA,OALA;AAQA,cAAA,IARA;AASA,oBAAA,KATA;AAUA,oBAAA,EAVA;AAWA,gBAAA,KAXA;AAYA,uBAAA,EAZA;AAaA,eAAA,IAbA;AAcA,SAAA;AAdA,KAAA;AAgBA,GAlBA;AAmBA;AACA,SApBA,qBAoBA;AACA,SAAA,SAAA;AACA,GAtBA;AAuBA,WAAA;AACA;AACA,aAFA,uBAEA;AAAA;;AACA,WAAA,MAAA,GAAA,IAAA;AACA,UACA,GADA,CACA,cADA,EAEA,IAFA,CAEA,oBAAA;AACA,cAAA,MAAA,GAAA,KAAA;AACA,cAAA,MAAA,GAAA,SAAA,IAAA;AACA,OALA,EAMA,KANA,CAMA,iBAAA;AACA,gBAAA,GAAA,CAAA,KAAA;AACA,OARA;AASA,KAbA;AAcA;AACA,eAfA,uBAeA,QAfA,EAeA;AACA,WAAA,eAAA,GAAA,IAAA;AACA,WAAA,WAAA,GAAA,QAAA;AACA,KAlBA;AAmBA;AACA,iBApBA,yBAoBA,KApBA,EAoBA;AACA,WAAA,KAAA,CAAA,wBAAA,CAAA,UAAA;AACA,WAAA,kBAAA,GAAA,KAAA;AACA,KAvBA;AAwBA;AACA,eAzBA,yBAyBA;AAAA;;AACA,WAAA,KAAA,CAAA,wBAAA,CAAA,KAAA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,UAAA,WAAA,KAAA,MAAA;AACA,UAAA,QAAA,SAAA,OAAA,CAAA,KAAA,kBAAA,CAAA;AACA,iBAAA,YAAA;AACA,eAAA,MAAA,GAAA,KAAA;AACA,eAAA,kBAAA,GAAA,IAAA;;AACA,eAAA,MAAA,CAAA,MAAA,CAAA,KAAA,EAAA,CAAA;;AACA,eAAA,QAAA,GAAA,IAAA;AACA,eAAA,eAAA,GAAA,6BAAA;AACA,OANA,EAMA,IANA;AAOA,KArCA;AAsCA;AACA,oBAvCA,4BAuCA,KAvCA,EAuCA;AACA,UAAA,eAAA,KAAA,MAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,WAAA,YAAA,GAAA,IAAA;AACA,WAAA,MAAA,CAAA,YAAA,EAAA,YAAA,GAAA,KAAA,YAAA;AACA,KA3CA;AA4CA;AACA,cA7CA,sBA6CA,KA7CA,EA6CA;AAAA;;AACA,UAAA,eAAA,KAAA,MAAA,CAAA,OAAA,CAAA,KAAA,CAAA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,WAAA,YAAA,GAAA,KAAA;AACA,WAAA,MAAA,CAAA,YAAA,EAAA,YAAA,GAAA,KAAA,YAAA;AACA,iBAAA,YAAA;AACA,eAAA,YAAA,GAAA,EAAA;AACA,eAAA,MAAA,GAAA,KAAA;AACA,eAAA,QAAA,GAAA,IAAA;AACA,eAAA,eAAA,GAAA,0BAAA;AACA,OALA,EAKA,IALA;AAMA;AAxDA;AAvBA,CAAA","sourcesContent":["<!-- New Emails Widget -->\n<template>\n   <div>\n      <app-section-loader :status=\"loader\"></app-section-loader>\n      <vue-perfect-scrollbar style=\"height:540px\" :settings=\"settings\">\n         <ul class=\"new-mail list-unstyled\">\n            <li v-for=\"email in emails\" :key=\"email.id\">\n               <div class=\"clearfix mb-2\">\n                  <div class=\"left d-flex justify-start\">\n                     <v-list-tile-avatar v-if=\"email.sender_avatar !== ''\">\n                        <img \n\t\t\t\t\t\t\t\t\tclass=\"img-responsive\" \n\t\t\t\t\t\t\t\t\t:src=\"email.sender_avatar\" \n\t\t\t\t\t\t\t\t\talt=\"user\" \n\t\t\t\t\t\t\t\t/>\n                     </v-list-tile-avatar>\n                     <template v-else>\n                        <v-avatar class=\"warning mr-3\">\n                           <span small class=\"white--text\"> {{email.sender_name.charAt(0)}}</span>\n                        </v-avatar>\n                     </template>\n                     <v-list-tile-content>\n                        <h5 class=\"mb-0\">{{email.sender_name}}</h5>\n                        <span class=\"fs-12 grey--text\">{{email.from}}</span>\n                     </v-list-tile-content>\n                  </div>\n                  <div class=\"right\">\n                     <span class=\"fs-12\">19 Mar 2017</span>\n                  </div>\n               </div>\n               <h6 class=\"mb-1\">{{email.subject}}</h6>\n\t\t\t\t\t<div class=\"mail-content\">\n               \t<p class=\"fs-14\">{{email.message}}</p>\n\t\t\t\t\t\t<div class=\"mail-action w-20 text-xs-right\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<v-btn \n\t\t\t\t\t\t\t\t\tfab \n\t\t\t\t\t\t\t\t\tdark \n\t\t\t\t\t\t\t\t\tsmall \n\t\t\t\t\t\t\t\t\tclass=\"ma-0\" \n\t\t\t\t\t\t\t\t\tcolor=\"primary\" \n\t\t\t\t\t\t\t\t\t@click=\"onViewEmail(email)\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<v-icon>visibility</v-icon>\n\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t<v-btn \n\t\t\t\t\t\t\t\t\tfab \n\t\t\t\t\t\t\t\t\tdark \n\t\t\t\t\t\t\t\t\tsmall \n\t\t\t\t\t\t\t\t\tclass=\"ma-0\" \n\t\t\t\t\t\t\t\t\tcolor=\"error\" \n\t\t\t\t\t\t\t\t\t@click=\"onDeleteEmail(email)\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<v-icon>delete</v-icon>\n\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t\t<v-btn \n\t\t\t\t\t\t\t\t\tfab \n\t\t\t\t\t\t\t\t\tdark \n\t\t\t\t\t\t\t\t\tsmall \n\t\t\t\t\t\t\t\t\tclass=\"ma-0\" \n\t\t\t\t\t\t\t\t\tcolor=\"success\"\n\t\t\t\t\t\t\t\t\t@click=\"showReplyTextBox(email)\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<v-icon>reply</v-icon>\n\t\t\t\t\t\t\t\t</v-btn>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<template v-if=\"email.replyTextBox\">\n\t\t\t\t\t\t<div class=\"d-custom-flex\">\n\t\t\t\t\t\t\t<v-text-field \n\t\t\t\t\t\t\t\tv-model=\"messageReply\" \n\t\t\t\t\t\t\t\tplaceholder=\"Reply Message\"\n\t\t\t\t\t\t\t></v-text-field>\n\t\t\t\t\t\t\t<v-btn @click=\"replyEmail(email)\" color=\"primary\">Reply</v-btn>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n            </li>\n         </ul>\n      </vue-perfect-scrollbar>\n      <delete-confirmation-dialog\n        ref=\"deleteConfirmationDialog\"\n        heading=\"Are You Sure You Want To Delete?\"\n        message=\"Are you sure you want to delete this email permanently?\"\n        @onConfirm=\"deleteEmail\"\n\t\t>\n\t\t</delete-confirmation-dialog>\n      <v-dialog v-if=\"selectEmail !== null\" v-model=\"viewEmailDialog\" max-width=\"600\">\n         <v-list>\n            <v-list-tile class=\"py-2\">\n               <v-list-tile-avatar v-if=\"selectEmail.sender_avatar !== ''\">\n                  <img \n\t\t\t\t\t\t\tclass=\"img-responsive\" \n\t\t\t\t\t\t\t:src=\"selectEmail.sender_avatar\" \n\t\t\t\t\t\t\talt=\"user\" \n\t\t\t\t\t\t/>\n               </v-list-tile-avatar>\n               <v-list-tile-avatar v-else>\n                  <v-avatar class=\"teal\">\n                 \t \t<span class=\"white--text headline\"> {{selectEmail.sender_name.charAt(0)}}</span>\n                  </v-avatar>\n               </v-list-tile-avatar>\n               <v-list-tile-content>\n                  <v-list-tile-sub-title>\n\t\t\t\t\t\t\t<p class=\"fs-14 fw-bold mb-0 gray--text\">\n\t\t\t\t\t\t\t\t{{selectEmail.sender_name}}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<span>{{selectEmail.from}}</span>\n                  </v-list-tile-sub-title>\n               </v-list-tile-content>\n               <v-list-tile-action>\n                  <span class=\"fs-14\">19 Mar 2017</span>\n               </v-list-tile-action>\n            </v-list-tile>\n            <div class=\"pa-3\">\n              <h3 class=\"subject\">{{selectEmail.subject}}</h3>\n              <p class=\"fs-14 mb-0\">\n                {{selectEmail.message}}\n              </p>\n            </div>\n         </v-list>\n      </v-dialog>\n      <app-section-loader :status=\"loader\"></app-section-loader>\n      <v-snackbar :top=\"y === 'top'\" :timeout=\"timeout\" v-model=\"snackbar\">\n         {{ snackbarMessage }}\n      </v-snackbar>\n   </div>\n</template>\n\n<script>\nimport api from \"Api\";\n\nexport default {\n  data() {\n    return {\n      loader: false,\n      viewEmailDialog: false,\n      selectDeletedEmail: null,\n      selectEmail: null,\n      settings: {\n        maxScrollbarLength: 100\n      },\n      emails: null,\n      replyTextBox: false,\n      messageReply: \"\",\n      snackbar: false,\n      snackbarMessage: \"\",\n      timeout: 2000,\n      y: \"top\"\n    };\n  },\n  // call get email method\n  mounted() {\n    this.getEmails();\n  },\n  methods: {\n    // get data from API\n    getEmails() {\n      this.loader = true;\n      api\n        .get(\"newEmails.js\")\n        .then(response => {\n          this.loader = false;\n          this.emails = response.data;\n        })\n        .catch(error => {\n          console.log(error);\n        });\n    },\n    // view email\n    onViewEmail(getEmail) {\n      this.viewEmailDialog = true;\n      this.selectEmail = getEmail;\n    },\n    // confirmation dialog to delete\n    onDeleteEmail(email) {\n      this.$refs.deleteConfirmationDialog.openDialog();\n      this.selectDeletedEmail = email;\n    },\n    // delete email if cofirmation is true\n    deleteEmail() {\n      this.$refs.deleteConfirmationDialog.close();\n      this.loader = true;\n      let newEmail = this.emails;\n      let index = newEmail.indexOf(this.selectDeletedEmail);\n      setTimeout(() => {\n        this.loader = false;\n        this.selectDeletedEmail = null;\n        this.emails.splice(index, 1);\n        this.snackbar = true;\n        this.snackbarMessage = \"Email Deleted Successfully!\";\n      }, 1500);\n    },\n    // show reply text box\n    showReplyTextBox(email) {\n      let indexOfEmail = this.emails.indexOf(email);\n      this.replyTextBox = true;\n      this.emails[indexOfEmail].replyTextBox = this.replyTextBox;\n    },\n    // reply email\n    replyEmail(email) {\n      let indexOfEmail = this.emails.indexOf(email);\n      this.loader = true;\n      this.replyTextBox = false;\n      this.emails[indexOfEmail].replyTextBox = this.replyTextBox;\n      setTimeout(() => {\n        this.messageReply = \"\";\n        this.loader = false;\n        this.snackbar = true;\n        this.snackbarMessage = \"Reply Sent Successfully!\";\n      }, 1500);\n    }\n  }\n};\n</script>\n\n\n"],"sourceRoot":"src/components/Widgets"}]}